(this["webpackJsonpmaze-game"]=this["webpackJsonpmaze-game"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(4),c=n.n(a),o=n(2);function i(e,t,n,r){var a=[],c=n[e][t],o=n.length,i=n[0].length;return e+1<o&&!r[e+1][t]&&1===c[2]&&a.push([e+1,t]),t+1<i&&!r[e][t+1]&&1===c[1]&&a.push([e,t+1]),t-1>=0&&!r[e][t-1]&&1===c[3]&&a.push([e,t-1]),e-1>=0&&!r[e-1][t]&&1===c[0]&&a.push([e-1,t]),a}n(9);var l=n(0);function s(){var e=Object(r.useState)(1),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)("playing"),s=Object(o.a)(c,2),h=s[0],u=s[1],j=Object(r.useState)(10),b=Object(o.a)(j,2),d=b[0],p=b[1],f=Object(r.useState)(!1),g=Object(o.a)(f,2),m=g[0],O=g[1],v=Object(r.useState)([0,0]),x=Object(o.a)(v,2),S=x[0],y=x[1],w=Object(r.useMemo)((function(){return function(e,t){for(var n=e*t,r=[],a=[],c=0;c<t;c++){r[c]=[],a[c]=[];for(var o=0;o<e;o++)r[c][o]=[0,0,0,0],a[c][o]=!0}var i=[Math.floor(Math.random()*t),Math.floor(Math.random()*e)],l=[i];a[i[0]][i[1]]=!1;for(var s=1;s<n;){for(var h=[[i[0]-1,i[1],0,2],[i[0],i[1]+1,1,3],[i[0]+1,i[1],2,0],[i[0],i[1]-1,3,1]],u=[],j=0;j<4;j++)h[j][0]>-1&&h[j][0]<t&&h[j][1]>-1&&h[j][1]<e&&a[h[j][0]][h[j][1]]&&u.push(h[j]);if(u.length){var b=u[Math.floor(Math.random()*u.length)];r[i[0]][i[1]][b[2]]=1,r[b[0]][b[1]][b[3]]=1,a[b[0]][b[1]]=!1,s++,i=[b[0],b[1]],l.push(i)}else i=l.pop()}return r}(d,d)}),[d,n]),z=Object(r.useMemo)((function(){var e=new Set,t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e[0].length-1,c=[],l=0;l<e.length;l++){c[l]=[];for(var s=0;s<e[l].length;s++)c[l][s]=!1}for(var h=[],u=t,j=n,b=[];u!==r||j!==a;)if(c[u][j]=!0,0===(b=i(u,j,e,c)).length){var d=h.pop(),p=Object(o.a)(d,2);u=p[0],j=p[1]}else{h.push([u,j]);var f=Object(o.a)(b[0],2);u=f[0],j=f[1]}return h.push([u,j]),h}(w,S[0],S[1]);return t.forEach((function(t){var n=Object(o.a)(t,2),r=n[0],a=n[1];e.add(String(r)+"-"+String(a))})),e}),[d,S[0],S[1],n]);Object(r.useEffect)((function(){var e=w.length-1,t=w[0].length-1;S[0]===e&&S[1]===t&&u("won")}),[S[0],S[1]]);var M=function(e,t){var n=w.length,r=w[0].length,a=[];return 0===w[e][t][0]&&a.push("topWall"),0===w[e][t][1]&&a.push("rightWall"),0===w[e][t][2]&&a.push("bottomWall"),0===w[e][t][3]&&a.push("leftWall"),e===n-1&&t===r-1&&a.push("destination"),e===S[0]&&t===S[1]&&a.push("currentPosition"),m&&z.has(String(e)+"-"+String(t))&&a.push("sol"),a.join(" ")},A=function(){p(Number(document.querySelector("input[name='mazeSize']").value)),y([0,0]),u("playing"),a(n+1)};return Object(l.jsxs)("div",{className:"App",onKeyDown:function(e){if(e.preventDefault(),"playing"===h){var t=e.code,n=Object(o.a)(S,2),r=n[0],a=n[1];"ArrowUp"!==t&&"KeyW"!==t||1!==w[r][a][0]||y([r-1,a]),"ArrowRight"!==t&&"KeyD"!==t||1!==w[r][a][1]||y([r,a+1]),"ArrowDown"!==t&&"KeyS"!==t||1!==w[r][a][2]||y([r+1,a]),"ArrowLeft"!==t&&"KeyA"!==t||1!==w[r][a][3]||y([r,a-1])}},tabIndex:-1,children:[Object(l.jsxs)("div",{className:"setting",children:[Object(l.jsx)("label",{htmlFor:"mazeSize",children:"Size of maze (5-40):"}),Object(l.jsx)("input",{type:"number",name:"mazeSize",min:"5",max:"40",defaultValue:"10"})]}),Object(l.jsx)("div",{className:"setting",children:Object(l.jsx)("button",{onClick:A,children:"Restart game with new settings"})}),Object(l.jsx)("p",{children:"use WSAD or Arrow Keys to move"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"cheatMode",children:"Cheat mode"}),Object(l.jsx)("input",{type:"checkbox",name:"cheatMode",onChange:function(e){return O(e.target.checked)}})]}),Object(l.jsx)("table",{id:"maze",children:Object(l.jsx)("tbody",{children:w.map((function(e,t){return Object(l.jsx)("tr",{children:e.map((function(e,n){return Object(l.jsx)("td",{className:M(t,n),children:Object(l.jsx)("div",{})},"cell-".concat(t,"-").concat(n))}))},"row-".concat(t))}))})}),"playing"!==h&&Object(l.jsx)("div",{className:"info",onClick:A,children:Object(l.jsx)("p",{children:"you won (click here to play again)"})})]})}var h=document.getElementById("root");c.a.render(Object(l.jsx)(r.StrictMode,{children:Object(l.jsx)(s,{})}),h)},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.b611c2b6.chunk.js.map